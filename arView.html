<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
      var markerFound = 0;
      AFRAME.registerComponent("button", {
        init: function () {
          var elem = document.documentElement;

          var marker = document.querySelector("#marker");
          var marker1 = document.querySelector("#marker1");
          var marker2 = document.querySelector("#marker2");
          var marker3 = document.querySelector("#marker3");
          var marker4 = document.querySelector("#marker4");


          var fullbutton = document.querySelector("#fullscreen");
          var Video_0 = document.querySelector("#Video_Asset_0");
          var Video_1 = document.querySelector("#Video_Asset_1");
          var Video_2 = document.querySelector("#Video_Asset_2");
          var Video_3 = document.querySelector("#Video_Asset_3");
          var Video_4 = document.querySelector("#Video_Asset_4");

          var button = document.querySelector("#mutebutton");
          var button1 = document.querySelector("#mutebutton1");
          var button2 = document.querySelector("#mutebutton2");
          var button3 = document.querySelector("#mutebutton3");
          var button4 = document.querySelector("#mutebutton4");

          button.hidden = true;
          button1.hidden = true;
          button2.hidden = true;
          button3.hidden = true;
          button4.hidden = true;

          Video_0.pause();
          Video_1.pause();
          Video_2.pause();
          Video_3.pause();
          Video_4.pause();

          marker.addEventListener("markerFound", function (evt) {
            markerFound = 1;
            button.hidden = false;
          });

          marker.addEventListener("markerLost", function (evt) {
            markerFound = 0;
            Video_0.pause();
            button.hidden = true;
          });

          marker1.addEventListener("markerFound", function (evt) {
            markerFound = 1;
            button1.hidden = false;
          });

          marker1.addEventListener("markerLost", function (evt) {
            markerFound = 0;
            Video_1.pause();
            button1.hidden = true;
          });

          marker2.addEventListener("markerFound", function (evt) {
            markerFound = 1;
            button2.hidden = false;
          });

          marker2.addEventListener("markerLost", function (evt) {
            markerFound = 0;
            Video_2.pause();
            button2.hidden = true;
          });

          marker3.addEventListener("markerFound", function (evt) {
            markerFound = 1;
            button3.hidden = false;
          });

          marker3.addEventListener("markerLost", function (evt) {
            markerFound = 0;
            Video_3.pause();
            button3.hidden = true;
          });

          marker4.addEventListener("markerFound", function (evt) {
            markerFound = 1;
            button4.hidden = false;
          });

          marker4.addEventListener("markerLost", function (evt) {
            markerFound = 0;
            Video_4.pause();
            button4.hidden = true;
          });

          button.addEventListener("click", function (evt) {
            console.log("button clicked");
            if (Video_0.muted == true) {
              button.innerHTML = "Pause";
              Video_0.muted = false;
              Video_0.play();
            } else {
              button.innerHTML = "Play";
              Video_0.muted = true;
              Video_0.pause();
            }
          });
          button1.addEventListener("click", function (evt) {
            console.log("button 1 clicked");
            if (Video_1.muted == true) {
              button1.innerHTML = "Pause";
              Video_1.muted = false;
              Video_1.play();
            } else {
              button1.innerHTML = "Play";
              Video_1.muted = true;
              Video_1.pause();
            }
          });
          button2.addEventListener("click", function (evt) {
            console.log("button 2 clicked");
            if (Video_2.muted == true) {
              button2.innerHTML = "Pause";
              Video_2.muted = false;
              Video_2.play();
            } else {
              button2.innerHTML = "Play";
              Video_2.muted = true;
              Video_2.pause();
            }
          });
          button3.addEventListener("click", function (evt) {
            console.log("button 3 clicked");
            if (Video_3.muted == true) {
              button3.innerHTML = "Pause";
              Video_3.muted = false;
              Video_3.play();
            } else {
              button3.innerHTML = "Play";
              Video_3.muted = true;
              Video_3.pause();
            }
          });
          button4.addEventListener("click", function (evt) {
            console.log("button 4 clicked");
            if (Video_4.muted == true) {
              button4.innerHTML = "Pause";
              Video_4.muted = false;
              Video_4.play();
            } else {
              button4.innerHTML = "Play";
              Video_4.muted = true;
              Video_4.pause();
            }
          });

          fullbutton.addEventListener("click", function (evt) {
            if (fullscreen == 0) {
              if (elem.requestFullscreen) {
                elem.requestFullscreen();
              } else if (elem.mozRequestFullScreen) {
                /* Firefox */
                elem.mozRequestFullScreen();
              } else if (elem.webkitRequestFullscreen) {
                /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
              } else if (elem.msRequestFullscreen) {
                /* IE/Edge */
                elem.msRequestFullscreen();
              }
              fullbutton.setAttribute("src", "vendor/exit_fullscreen.png");
              fullscreen = 1;
            } else {
              if (document.exitFullscreen) {
                document.exitFullscreen();
              } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
              } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
              } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
              }
              fullbutton.setAttribute("src", "vendor/fullscreen.png");
              fullscreen = 0;
            }
          });
        },
        tick: function (totalTime, deltaTime) {
          var dTime = deltaTime / 1000;
          if (markerFound == 1) {
          }
        },
      });
    </script>
  </head>
  <body style="margin: 0px; overflow: hidden; font-family: Monospace">
    <div
      style="
        position: absolute;
        bottom: 10px;
        right: 30px;
        width: 100%;
        text-align: center;
        z-index: 1;
      "
    >
      <button id="mutebutton" style="position: absolute; bottom: 10px" hidden>
        Play
      </button>
      <button id="mutebutton1" style="position: absolute; bottom: 10px" hidden>
        Play
      </button>
      <button id="mutebutton2" style="position: absolute; bottom: 10px" hidden>
        Play
      </button>
      <button id="mutebutton3" style="position: absolute; bottom: 10px" hidden>
        Play
      </button>
      <button id="mutebutton4" style="position: absolute; bottom: 10px" hidden>
        Play
      </button>
    </div>
    <div
      style="
        position: absolute;
        bottom: 5px;
        left: 30px;
        width: 100%;
        text-align: right;
        z-index: 1;
      "
    >
      <!-- <input
        type="image"
        id="fullscreen"
        src="blank.png"
        style="position: absolute; bottom: 0px; right: 35px"
      /> -->
    </div>
    <a-scene
      embedded
      arjs="debugUIEnabled: false; sourceType: webcam"
      vr-mode-ui="enabled: false"
    >
      <a-entity
        id="mouseCursor"
        cursor="rayOrigin: mouse"
        raycaster="objects: .intersectable; useWorldCoordinates: true;"
      ></a-entity>
      <a-assets>
        <video
          id="Video_Asset_0"
          autoplay="false"
          loop
          crossorigin="anonymous"
          src="vids/aestheticComputer.mov"
          webkit-playsinline
          playsinline
          controls
          muted
        ></video>
        <video
          id="Video_Asset_1"
          autoplay="false"
          loop
          crossorigin="anonymous"
          src="vids/readyCompanion.mov"
          webkit-playsinline
          playsinline
          controls
          muted
        ></video>
        <video
          id="Video_Asset_2"
          autoplay="false"
          loop
          crossorigin="anonymous"
          src="vids/scanArtist.mov"
          webkit-playsinline
          playsinline
          controls
          muted
        ></video>
        <video
          id="Video_Asset_3"
          autoplay="false"
          loop
          crossorigin="anonymous"
          src="vids/uyeSuranaAR.mov"
          webkit-playsinline
          playsinline
          controls
          muted
        ></video>
        <video
        id="Video_Asset_4"
        autoplay="false"
        loop
        crossorigin="anonymous"
        src="vids/pianos.mov"
        webkit-playsinline
        playsinline
        controls
        muted
      ></video>
      </a-assets>
      <!-- AC -->
      <a-marker
        id="marker"
        preset="pattern"
        type="pattern"
        url="https://raw.githubusercontent.com/ttarigh/rawPatt/main/pattern-horse.patt"
        emitevents="true"
        button
      >
        <a-video
          src="#Video_Asset_0"
          id="Video_0"
          class="intersectable"
          position="0 0 0"
          scale="1 2 1"
          rotation="-90 0 0"
          color="#FFFFFF"
          transparent="False"
        ></a-video>
      </a-marker>
      <!-- ready -->
      <a-marker
        id="marker1"
        preset="pattern"
        type="pattern"
        url="https://raw.githubusercontent.com/ttarigh/rawPatt/main/pattern-cross.patt"
        emitevents="true"
      >
        <a-video
          src="#Video_Asset_1"
          id="Video_1"
          class="intersectable"
          position="0 0 0"
          scale="1 2 1"
          rotation="-90 0 0"
          color="#FFFFFF"
          transparent="False"
        ></a-video>
      </a-marker>

      <!-- scan artist -->
      <a-marker
        id="marker2"
        preset="pattern"
        type="pattern"
        url="https://raw.githubusercontent.com/ttarigh/rawPatt/main/pattern-shirtBasic.patt"
        emitevents="true"
      >
        <a-video
          src="#Video_Asset_2"
          id="Video_2"
          class="intersectable"
          position="0 0 0"
          scale="1 2 1"
          rotation="-90 0 0"
          color="#FFFFFF"
          transparent="False"
        ></a-video>
      </a-marker>

      <!-- US -->
      <a-marker
        id="marker3"
        preset="pattern"
        type="pattern"
        url="https://raw.githubusercontent.com/ttarigh/rawPatt/main/pattern-horseSkel.patt"
        emitevents="true"
      >
        <a-video
          src="#Video_Asset_3"
          id="Video_3"
          class="intersectable"
          position="0 0 0"
          scale="1 2 1"
          rotation="-90 0 0"
          color="#FFFFFF"
          transparent="False"
        ></a-video>
      </a-marker>

      <!-- Pianos -->
      <a-marker
        id="marker4"
        preset="pattern"
        type="pattern"
        url="https://raw.githubusercontent.com/ttarigh/rawPatt/main/pattern-lazars1.patt"
        emitevents="true"
      >
        <a-video
          src="#Video_Asset_4"
          id="Video_4"
          class="intersectable"
          position="0 0 0"
          scale="1 2 1"
          rotation="-90 0 0"
          color="#FFFFFF"
          transparent="False"
        ></a-video>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
